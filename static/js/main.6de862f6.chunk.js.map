{"version":3,"sources":["components/Digits.js","components/Odometer.js","components/Picker.js","components/SettingPanel.js","App.js","reportWebVitals.js","index.js"],"names":["Digits","n","className","Odometer","number","digits","transformSpeed","onStopCounting","useState","currentNumber","setCurrentNumber","speed","setSpeed","step","setStep","counting","setCounting","useEffect","a","distance","Math","abs","floor","max","setTimeout","clearInterval","numbers","padStart","split","map","i","Picker","min","unique","disabled","setDisabled","setNumber","indices","setIndices","reset","Array","from","length","v","k","arr","temporaryValue","randomIndex","currentIndex","random","shuffle","generate","pop","newNumber","getNumber","handleKeydown","e","keyCode","document","addEventListener","removeEventListener","log10","onClick","stopPropagation","window","confirm","SettingPanel","props","onOK","onCancel","setUnique","setMin","setMax","valid","type","value","onChange","target","id","defaultChecked","checked","htmlFor","replace","App","localStorageMin","localStorage","getItem","localStorageMax","localStorageUnique","showSettings","setShowSettings","setItem","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"sRASeA,G,wBANA,SAAC,GAAS,IAARC,EAAO,EAAPA,EACf,OAAO,qBAAKC,UAAW,SAAhB,SACL,qBAAKA,UAAW,QAAhB,SAA0BD,QC0CfE,EA3CE,SAAC,GAAgE,IAA/DC,EAA8D,EAA9DA,OAA8D,IAAtDC,cAAsD,MAA7C,EAA6C,MAA1CC,sBAA0C,MAAzB,IAAyB,EAApBC,EAAoB,EAApBA,eAAoB,EAErCC,mBAASJ,GAF4B,mBAExEK,EAFwE,KAEzDC,EAFyD,OAGrDF,mBAASF,GAH4C,mBAGxEK,EAHwE,KAGjEC,EAHiE,OAIvDJ,mBAAS,GAJ8C,mBAIxEK,EAJwE,KAIlEC,EAJkE,OAK/CN,oBAAS,GALsC,mBAKxEO,EALwE,KAK9DC,EAL8D,KAO/EC,qBAAU,WACR,IAAIC,EAAI,KACR,GAAe,OAAXd,GAAmBA,IAAWK,EAAe,CAC/C,IAAMU,EAAWC,KAAKC,IAAIZ,EAAgBL,GAC1CU,EAAQM,KAAKE,MAAMF,KAAKG,IAAI,EAAGJ,EAAW,MAC1CD,EAAIM,YAAW,WACbd,EAAiBD,GAAiBA,EAAgBL,GAAUS,EAAOA,MAClEF,QAEHJ,IAGF,OADAS,EAAuB,OAAXZ,GAAmBA,IAAWK,GACnC,WACLgB,cAAcP,MAEf,CAACL,EAAMT,EAAQK,EAAeE,EAAOJ,IAExCU,qBAAU,WACO,OAAXb,EACEK,IAAkBL,GAEpBQ,EAASN,EAAiBc,KAAKC,IAAIZ,EAAgBL,IAGrDM,EAAiB,KAElB,CAACN,IAGJ,IAAMsB,GAAW,GAAKjB,GAAekB,SAAStB,EAAQ,KAAKuB,MAAM,IAEjE,OAAO,qBAAK1B,UAAW,YAAca,EAAW,YAAc,IAAvD,SACO,OAAXX,EAAkB,cAAC,EAAD,CAAQH,EAAG,MAAUyB,EAAQG,KAAI,SAAC5B,EAAG6B,GAAJ,OAAU,cAAC,EAAD,CAAgB7B,EAAO,EAAJA,GAAN6B,SCmEhEC,EAvFA,SAAC,GAET,IADLC,EACI,EADJA,IAAKT,EACD,EADCA,IACD,IADMU,cACN,WAE4BzB,oBAAS,GAFrC,mBAEG0B,EAFH,KAEaC,EAFb,OAG4B3B,oBAAS,GAHrC,mBAGGO,EAHH,KAGaC,EAHb,OAIwBR,mBAAS,MAJjC,mBAIGJ,EAJH,KAIWgC,EAJX,OAK0B5B,mBAAS,IALnC,mBAKG6B,EALH,KAKYC,EALZ,KAOEC,EAAQ,WACZH,EAAU,MACV,IAAMC,EAAUG,MAAMC,KAAK,CAACC,OAAQnB,EAAMS,EAAM,IAAG,SAACW,EAAGC,GAAJ,OAAUA,EAAIZ,KACjEM,EA9BY,SAAAO,GAId,IAHA,IAA+BC,EAAgBC,EAA3CC,EAAeH,EAAIH,OAGhB,IAAMM,GAGXD,EAAc3B,KAAKE,MAAMF,KAAK6B,SAAWD,GAIzCF,EAAiBD,EAHjBG,GAAgB,GAIhBH,EAAIG,GAAgBH,EAAIE,GACxBF,EAAIE,GAAeD,EAErB,OAAOD,EAeMK,CAAQb,KAgBfc,EAAW,WACf,IAAKjB,IAAanB,EAAU,CAC1BC,GAAY,GACZ,IAAMZ,EAhBQ,WAChB,GAAI6B,EACF,OAAOI,EAAQe,MAEf,IAAIC,EAAYjD,EAEhB,GACEiD,EAAYjC,KAAKE,MAAMF,KAAK6B,UAAY1B,EAAMS,EAAM,IAAMA,QACpD5B,IAAWiD,GACnB,OAAOA,EAOQC,GACflB,EAAUhC,KAWda,qBAAU,WACRkB,EAA+B,IAAnBE,EAAQK,UACnB,CAACL,EAAQK,SAGZzB,qBAAU,WACRsB,MACC,CAACP,EAAKT,EAAKU,IAEdhB,qBAAU,WACR,IAAMsC,EAAgB,SAAAC,GACF,KAAdA,EAAEC,SACJN,KAIJ,OADAO,SAASC,iBAAiB,UAAWJ,GAC9B,WACLG,SAASE,oBAAoB,UAAWL,MAEzC,CAACxC,EAAUiB,EAAKT,IAEnB,IAMMlB,EAASe,KAAKE,MAAMF,KAAKyC,MAAMtC,GAAO,GAE5C,OAAO,sBAAKrB,UAAW,UAAYgC,EAAW,YAAc,IAArD,UACL,qBAAK4B,QATe,kBAAMX,KAS1B,SACE,cAAC,EAAD,CAAU/C,OAAQA,EAAQC,OAAQA,EAAQE,eARX,WACjCS,GAAY,QASZ,sBAAKd,UAAW,gBAAhB,UACGmC,EAAQK,OAAS,GAAK,sBAAKxC,UAAW,OAAhB,UAAyBmC,EAAQK,OAAjC,IAA6D,IAAnBL,EAAQK,OAAe,SAAW,UAA5E,WACtBR,GAAY,qBAAKhC,UAAW,WAAhB,+BAGZ+B,GAAU,wBAAQ/B,UAAW,eAAgB4D,QA7C9B,SAAAN,GAClBA,EAAEO,kBACEC,OAAOC,QAAQ,0BACjB1B,KA0CW,4BACX,sBAAKrC,UAAW,QAAhB,UAA0B8B,EAA1B,MAAkCT,EAAKU,GAAU,sBC1CxCiC,G,MA5DM,SAAAC,GAAU,IAEtBC,EAAkBD,EAAlBC,KAAMC,EAAYF,EAAZE,SAFe,EAIA7D,mBAAS2D,EAAMlC,QAJf,mBAIrBA,EAJqB,KAIbqC,EAJa,OAKN9D,mBAAS2D,EAAMnC,KALT,mBAKrBA,EALqB,KAKhBuC,EALgB,OAMN/D,mBAAS2D,EAAM5C,KANT,mBAMrBA,EANqB,KAMhBiD,EANgB,KAoBtBC,EAAQzC,GAAO,GAAKA,EAAMT,EAEhC,OAAO,qBAAKrB,UAAW,eAAhB,SACL,qBAAKA,UAAW,UAAhB,SACE,sBAAKA,UAAW,MAAhB,UACE,qBAAKA,UAAW,SAAhB,uBAGA,qBAAKA,UAAW,OAAhB,SACE,sBAAKA,UAAW,WAAhB,UACE,qBAAKA,UAAW,cAAhB,oCAGA,sBAAKA,UAAW,UAAhB,UACE,qBAAKA,UAAW,MAAhB,iBACA,qBAAKA,UAAW,MAAhB,SACE,uBAAOwE,KAAM,OAAQC,MAAO3C,EAAK4C,SAAU,SAAApB,GAAC,OAAIe,EAAOf,EAAEqB,OAAOF,QAAQzE,UAAW,sBAGvF,sBAAKA,UAAW,UAAhB,UACE,qBAAKA,UAAW,MAAhB,iBACA,qBAAKA,UAAW,MAAhB,SACE,uBAAOwE,KAAM,OAAQC,MAAOpD,EAAKqD,SAAU,SAAApB,GAAC,OAAIgB,EAAOhB,EAAEqB,OAAOF,QAAQzE,UAAW,sBAGvF,sBAAKA,UAAU,aAAf,UACE,uBAAOwE,KAAK,WAAWxE,UAAU,mBAAmB4E,GAAG,SAASC,eAAgB9C,EAAQ2C,SAAU,SAAApB,GAAC,OAAIc,EAAUd,EAAEqB,OAAOG,YACxH,uBAAO9E,UAAU,mBAAmB+E,QAAQ,SAA5C,iCAIR,sBAAK/E,UAAW,UAAhB,UACE,wBAAQA,UAAW,oBAAqB4D,QA5C3B,WACnBO,KA2CM,oBACA,wBAAQnE,UAAW,kBAAmB4D,QAzC7B,WACfM,EAAwC,GAAlC,GAAKpC,GAAKkD,QAAQ,SAAU,IACG,GAAlC,GAAK3D,GAAK2D,QAAQ,SAAU,IAC7BjD,IAsC6DC,UAAWuC,EAApE,4BCXKU,MAxCf,WAEE,IAAMC,EAAkBpB,OAAOqB,aAAaC,QAAQ,WAC9CC,EAAkBvB,OAAOqB,aAAaC,QAAQ,WAC9CE,EAAqBxB,OAAOqB,aAAaC,QAAQ,cAJ1C,EAK2B9E,oBAAS,GALpC,mBAKNiF,EALM,KAKQC,EALR,OAMSlF,mBAA6B,OAApB4E,EAA2B,EAAsB,EAAlBA,GANjD,mBAMNpD,EANM,KAMDuC,EANC,OAOS/D,mBAA6B,OAApB+E,EAA2B,GAAuB,EAAlBA,GAPlD,mBAONhE,EAPM,KAODiD,EAPC,OAQehE,mBAAgC,OAAvBgF,GAA4D,MAAvBA,GAR7D,mBAQNvD,EARM,KAQEqC,EARF,KAwBb,OAAO,sBAAKpE,UAAU,MAAf,UACFuF,GAAgB,cAAC,EAAD,CAAczD,IAAKA,EAAKT,IAAKA,EAAKU,OAAQA,EAAQmC,KAf9C,SAACpC,EAAKT,EAAKU,GAClCsC,EAAOvC,GACPwC,EAAOjD,GACP+C,EAAUrC,GACVyD,GAAgB,GAChB1B,OAAOqB,aAAaM,QAAQ,UAAW3D,GACvCgC,OAAOqB,aAAaM,QAAQ,UAAWpE,GACvCyC,OAAOqB,aAAaM,QAAQ,aAAc1D,EAAS,IAAM,MAQoCoC,SALlE,WAC3BqB,GAAgB,MAKd,qBAAKxF,UAAW,OAAhB,SACE,cAAC,EAAD,CAAQ8B,IAAKA,EAAKT,IAAKA,EAAKU,OAAQA,MAEtC,sBAAK/B,UAAW,aAAhB,UACE,qBAAKA,UAAW,cAAhB,mEAGA,qBAAKA,UAAW,UAAhB,SACE,wBAAQA,UAAW,eAAgB4D,QAAS,kBAAM4B,GAAgB,IAAlE,iCC3BKE,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCAdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF7C,SAAS8C,eAAe,SAM1BZ,M","file":"static/js/main.6de862f6.chunk.js","sourcesContent":["import React from 'react';\nimport './Digits.scss';\n\nconst Digits = ({n}) => {\n  return <div className={\"Digits\"}>\n    <div className={\"digit\"}>{n}</div>\n  </div>\n};\n\nexport default Digits;","import React, {useState, useEffect} from 'react';\nimport './Odometer.scss';\nimport Digits from \"./Digits\";\n\nconst Odometer = ({number, digits = 2, transformSpeed = 600, onStopCounting}) => {\n\n  const [currentNumber, setCurrentNumber] = useState(number);\n  const [speed, setSpeed] = useState(transformSpeed);\n  const [step, setStep] = useState(1);\n  const [counting, setCounting] = useState(false);\n\n  useEffect(() => {\n    let a = null;\n    if (number !== null && number !== currentNumber) {\n      const distance = Math.abs(currentNumber - number);\n      setStep(Math.floor(Math.max(1, distance / 40)));\n      a = setTimeout(() => {\n        setCurrentNumber(currentNumber + (currentNumber > number ? -step : step));\n      }, speed);\n    } else {\n      onStopCounting();\n    }\n    setCounting(number !== null && number !== currentNumber);\n    return () => {\n      clearInterval(a);\n    };\n  }, [step, number, currentNumber, speed, onStopCounting]);\n\n  useEffect(() => {\n    if (number !== null) {\n      if (currentNumber !== number) {\n        // Whenever the number changes, we set the counting interval\n        setSpeed(transformSpeed / Math.abs(currentNumber - number));\n      }\n    } else {\n      setCurrentNumber(0);\n    }\n  }, [number]);\n\n  // split the digits\n  const numbers = (\"\" + currentNumber).padStart(digits, '0').split('');\n\n  return <div className={\"Odometer\" + (counting ? ' counting' : '')}>\n    {number === null ? <Digits n={\"-\"} /> : numbers.map((n, i) => <Digits key={i} n={n * 1} />)}\n  </div>;\n};\n\nexport default Odometer;","import React, {useState, useEffect} from 'react';\nimport './Picker.scss';\nimport Odometer from \"./Odometer\";\n\n//https://stackoverflow.com/a/2450976\nconst shuffle = arr => {\n  let currentIndex = arr.length, temporaryValue, randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = arr[currentIndex];\n    arr[currentIndex] = arr[randomIndex];\n    arr[randomIndex] = temporaryValue;\n  }\n  return arr;\n};\n\nconst Picker = ({\n  min, max, unique = true\n}) => {\n\n  const [disabled, setDisabled] = useState(false);\n  const [counting, setCounting] = useState(false);\n  const [number, setNumber] = useState(null);\n  const [indices, setIndices] = useState([]);\n\n  const reset = () => {\n    setNumber(null);\n    const indices = Array.from({length: max - min + 1},(v, k) => k + min);\n    setIndices(shuffle(indices));\n  }\n\n  const getNumber = () => {\n    if (unique) {\n      return indices.pop();\n    } else {\n      let newNumber = number;\n      // ensuring the number keep changing\n      do {\n        newNumber = Math.floor(Math.random() * (max - min + 1)) + min;\n      } while(number === newNumber);\n      return newNumber;\n    }\n  };\n\n  const generate = () => {\n    if (!disabled && !counting) {\n      setCounting(true);\n      const number = getNumber();\n      setNumber(number);\n    }\n  };\n\n  const handleReset = e => {\n    e.stopPropagation();\n    if (window.confirm('Reset unique numbers?')) {\n      reset();\n    }\n  }\n\n  useEffect(() => {\n    setDisabled(indices.length === 0);\n  }, [indices.length]);\n\n  // reset whenever number changed.\n  useEffect(() => {\n    reset();\n  }, [min, max, unique]);\n\n  useEffect(() => {\n    const handleKeydown = e => {\n      if (e.keyCode === 32) {\n        generate();\n      }\n    };\n    document.addEventListener('keydown', handleKeydown);\n    return () => {\n      document.removeEventListener('keydown', handleKeydown)\n    };\n  }, [counting, min, max]);\n\n  const handlePickOne = () => generate();\n\n  const handleOdometerStopCounting = () => {\n    setCounting(false);\n  };\n\n  const digits = Math.floor(Math.log10(max) + 1);\n\n  return <div className={\"Picker\" + (disabled ? ' disabled' : '')}>\n    <div onClick={handlePickOne}>\n      <Odometer number={number} digits={digits} onStopCounting={handleOdometerStopCounting} />\n    </div>\n    <div className={\"picker-footer\"}>\n      {indices.length > 0 && <div className={\"left\"}>{indices.length} {indices.length === 1 ? 'number' : 'numbers'} left</div>}\n      {disabled && <div className={\"disabled\"}>\n        Numbers exhausted\n      </div>}\n      {unique && <button className={\"btn btn-text\"} onClick={handleReset}>[Reset Unique]</button>}\n      <div className={\"range\"}>{min} - {max}{unique && ' (Unique)'}</div>\n    </div>\n  </div>\n}\n\nexport default Picker;","import React, {useState} from 'react';\nimport './SettingPanel.scss';\n\nconst SettingPanel = props => {\n\n  const {onOK, onCancel} = props;\n\n  const [unique, setUnique] = useState(props.unique);\n  const [min, setMin] = useState(props.min);\n  const [max, setMax] = useState(props.max);\n\n  const handleCancel = () => {\n    onCancel();\n  };\n\n  const handleOK = () => {\n    onOK(('' + min).replace(/[^\\d]/g, '') * 1,\n      ('' + max).replace(/[^\\d]/g, '') * 1,\n      unique\n    );\n  };\n\n  // min/max must not be same\n  const valid = min >= 0 && min < max;\n\n  return <div className={\"SettingPanel\"}>\n    <div className={\"overlay\"}>\n      <div className={\"box\"}>\n        <div className={\"header\"}>\n          Set Range\n        </div>\n        <div className={\"body\"}>\n          <div className={\"settings\"}>\n            <div className={\"instruction\"}>\n              Numbers are inclusive.\n            </div>\n            <div className={\"setting\"}>\n              <div className={\"lbl\"}>Min</div>\n              <div className={\"val\"}>\n                <input type={\"text\"} value={min} onChange={e => setMin(e.target.value)} className={\"form-control\"} />\n              </div>\n            </div>\n            <div className={\"setting\"}>\n              <div className={\"lbl\"}>Max</div>\n              <div className={\"val\"}>\n                <input type={\"text\"} value={max} onChange={e => setMax(e.target.value)} className={\"form-control\"} />\n              </div>\n            </div>\n            <div className=\"form-check\">\n              <input type=\"checkbox\" className=\"form-check-input\" id=\"unique\" defaultChecked={unique} onChange={e => setUnique(e.target.checked)} />\n                <label className=\"form-check-label\" htmlFor=\"unique\">Unique Only</label>\n            </div>\n          </div>\n        </div>\n        <div className={\"actions\"}>\n          <button className={\"btn btn-secondary\"} onClick={handleCancel}>Cancel</button>\n          <button className={\"btn btn-primary\"} onClick={handleOK} disabled={!valid}>OK</button>\n        </div>\n      </div>\n    </div>\n  </div>\n};\n\nexport default SettingPanel;","import React, {useState} from 'react';\nimport './App.scss';\nimport Picker from \"./components/Picker\";\nimport SettingPanel from \"./components/SettingPanel\";\n\nfunction App() {\n\n  const localStorageMin = window.localStorage.getItem('rng-min');\n  const localStorageMax = window.localStorage.getItem('rng-max');\n  const localStorageUnique = window.localStorage.getItem('rng-unique');\n  const [showSettings, setShowSettings] = useState(false);\n  const [min, setMin] = useState(localStorageMin === null ? 1 : localStorageMin * 1);\n  const [max, setMax] = useState(localStorageMax === null ? 50 : localStorageMax * 1);\n  const [unique, setUnique] = useState(localStorageUnique === null ? true : localStorageUnique === '1');\n\n  const handleSettingsOK = (min, max, unique) => {\n    setMin(min);\n    setMax(max);\n    setUnique(unique);\n    setShowSettings(false);\n    window.localStorage.setItem('rng-min', min);\n    window.localStorage.setItem('rng-max', max);\n    window.localStorage.setItem('rng-unique', unique ? '1' : '0');\n  };\n\n  const handleSettingsCancel = () => {\n    setShowSettings(false);\n  };\n\n  return <div className=\"App\">\n      {showSettings && <SettingPanel min={min} max={max} unique={unique} onOK={handleSettingsOK} onCancel={handleSettingsCancel} />}\n      <div className={\"main\"}>\n        <Picker min={min} max={max} unique={unique} />\n      </div>\n      <div className={\"app-footer\"}>\n        <div className={\"instruction\"}>\n          Click number or hit space bar to generate new number.\n        </div>\n        <div className={\"actions\"}>\n          <button className={\"btn btn-text\"} onClick={() => setShowSettings(true)}>[Settings]</button>\n        </div>\n      </div>\n    </div>;\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}